!function(){"use strict";function t(t,o){var s=this;s.tripName=t.tripName,s.stops=[],s.errorMessage="",s.isBusy=!0,s.newStop={};var n="/api/trips/"+s.tripName+"/stops";o.get(n).then(function(t){angular.copy(t.data,s.stops)},function(t){s.errorMessage="Failed to load stops"}).finally(function(){s.isBusy=!1}),s.addStop=function(){s.isBusy=!0,o.post(n,s.newStop).then(function(t){s.stops.push(t.data),s.newStop={}},function(){s.errorMessage="Failed to add new stop"}).finally(function(){s.isBusy=!1})}}t.$inject=["$routeParams","$http"],angular.module("app-trips").controller("tripEditorController",t)}();